/**
 * Restaurant Order Scenario
 * Showcases WhatsApp Product Catalog and Shopping Cart features
 */

import type { ConversationScenario } from '@/modules/marketing/domain/types/whatsapp-features.types';

export const restaurantOrderScenario: ConversationScenario = {
  id: 'restaurant-orders',
  title: 'Pedidos de Restaurante',
  businessName: 'Burger Express',
  businessType: 'Restaurante Delivery',
  description: 'Sistema de pedidos con cat√°logo de productos y carrito de compras',
  features: ['Product Catalog', 'Shopping Cart', 'List Messages', 'Quick Reply Buttons'],
  duration: 35000,
  messages: [
    {
      id: '1',
      type: 'text',
      sender: 'customer',
      content: 'Hola, quiero pedir comida a domicilio',
      timestamp: Date.now(),
      status: 'read',
      delay: 1000
    },
    {
      id: '2',
      type: 'template',
      sender: 'bot',
      timestamp: Date.now(),
      status: 'delivered',
      delay: 2000,
      template: {
        id: 'welcome-order',
        type: 'marketing',
        header: {
          type: 'image',
          content: '/images/burger-banner.jpg'
        },
        body: 'üçî ¬°Bienvenido a Burger Express!\n\n¬°Tenemos las mejores hamburguesas de la ciudad! üéâ\n\nüöö Delivery GRATIS en pedidos superiores a 20‚Ç¨\n‚è±Ô∏è Tiempo estimado: 25-35 minutos\nüî• Ofertas especiales del d√≠a disponibles',
        footer: 'Abierto hasta las 23:00',
        buttons: [
          {
            id: 'catalog',
            text: 'üçî Ver Men√∫',
            icon: 'üçî'
          },
          {
            id: 'offers',
            text: 'üè∑Ô∏è Ofertas del d√≠a',
            icon: 'üè∑Ô∏è'
          },
          {
            id: 'track',
            text: 'üìç Seguir pedido',
            icon: 'üìç'
          }
        ]
      }
    },
    {
      id: '3',
      type: 'text',
      sender: 'customer',
      content: 'Ver Men√∫',
      timestamp: Date.now(),
      status: 'read',
      delay: 2500
    },
    {
      id: '4',
      type: 'list',
      sender: 'bot',
      timestamp: Date.now(),
      status: 'delivered',
      delay: 2000,
      listMessage: {
        id: 'menu-categories',
        header: 'üìã Nuestro Men√∫',
        body: 'Explora nuestras deliciosas categor√≠as. Cada producto incluye foto, descripci√≥n y precio.\n\nToca el bot√≥n para ver todas las opciones üëá',
        footer: 'Precios incluyen IVA',
        buttonText: 'Ver Categor√≠as',
        sections: [
          {
            title: 'üçî HAMBURGUESAS',
            rows: [
              {
                id: 'classic',
                title: 'Hamburguesas Cl√°sicas',
                description: 'Beef, Cheese, BBQ',
                icon: 'üçî'
              },
              {
                id: 'gourmet',
                title: 'Hamburguesas Gourmet',
                description: 'Trufa, Wagyu, Foie',
                icon: 'ü•©'
              },
              {
                id: 'veggie',
                title: 'Opciones Vegetarianas',
                description: 'Beyond, Lentejas, Quinoa',
                icon: 'ü•ó'
              }
            ]
          },
          {
            title: 'üçü ACOMPA√ëAMIENTOS',
            rows: [
              {
                id: 'fries',
                title: 'Patatas y Snacks',
                description: 'Fritas, Bravas, Onion Rings',
                icon: 'üçü'
              },
              {
                id: 'salads',
                title: 'Ensaladas',
                description: 'C√©sar, Mixta, Coleslaw',
                icon: 'ü•ó'
              }
            ]
          },
          {
            title: 'ü•§ BEBIDAS',
            rows: [
              {
                id: 'sodas',
                title: 'Refrescos',
                description: 'Coca-Cola, Fanta, Sprite',
                icon: 'ü•§'
              },
              {
                id: 'beers',
                title: 'Cervezas',
                description: 'Nacional, Importada, Artesanal',
                icon: 'üç∫'
              }
            ]
          }
        ]
      }
    },
    {
      id: '5',
      type: 'text',
      sender: 'customer',
      content: 'Hamburguesas Gourmet',
      timestamp: Date.now(),
      status: 'read',
      delay: 3000
    },
    {
      id: '6',
      type: 'text',
      sender: 'bot',
      content: '¬°Excelente elecci√≥n! üåü Te muestro nuestras hamburguesas gourmet premium:',
      timestamp: Date.now(),
      status: 'delivered',
      delay: 1500
    },
    {
      id: '7',
      type: 'catalog',
      sender: 'bot',
      timestamp: Date.now(),
      status: 'delivered',
      delay: 2000,
      catalog: [
        {
          id: 'wagyu-deluxe',
          name: 'Wagyu Deluxe',
          description: 'Carne Wagyu 200g, queso cheddar a√±ejo, cebolla caramelizada, salsa trufa',
          price: 18.90,
          currency: '‚Ç¨',
          imageUrl: '/images/wagyu-burger.jpg',
          category: 'Gourmet',
          inStock: true,
          badge: 'M√°s vendida'
        },
        {
          id: 'truffle-supreme',
          name: 'Truffle Supreme',
          description: 'Angus 180g, queso brie, r√∫cula, aceite de trufa negra, pan brioche',
          price: 16.50,
          currency: '‚Ç¨',
          imageUrl: '/images/truffle-burger.jpg',
          category: 'Gourmet',
          inStock: true,
          badge: 'Chef recomienda'
        },
        {
          id: 'foie-royale',
          name: 'Foie Royale',
          description: 'Black Angus 200g, foie gras, cebolla confitada, reducci√≥n de oporto',
          price: 22.90,
          currency: '‚Ç¨',
          imageUrl: '/images/foie-burger.jpg',
          category: 'Gourmet',
          inStock: true,
          badge: 'Premium'
        },
        {
          id: 'blue-cheese',
          name: 'Blue Cheese Master',
          description: 'Doble carne 250g, queso azul, bacon crujiente, miel de mostaza',
          price: 15.90,
          currency: '‚Ç¨',
          imageUrl: '/images/blue-burger.jpg',
          category: 'Gourmet',
          inStock: true
        },
        {
          id: 'mexican-fire',
          name: 'Mexican Fire',
          description: 'Carne especiada 180g, jalape√±os, guacamole, nachos, salsa picante',
          price: 14.90,
          currency: '‚Ç¨',
          imageUrl: '/images/mexican-burger.jpg',
          category: 'Gourmet',
          inStock: false,
          badge: 'Agotado'
        },
        {
          id: 'bbq-bacon',
          name: 'BBQ Bacon Explosion',
          description: 'Doble bacon, carne 200g, aros de cebolla, salsa BBQ casera',
          price: 17.50,
          currency: '‚Ç¨',
          imageUrl: '/images/bbq-burger.jpg',
          category: 'Gourmet',
          inStock: true,
          badge: 'Nuevo'
        }
      ]
    },
    {
      id: '8',
      type: 'text',
      sender: 'customer',
      content: 'üõí A√±adido al carrito:\n‚Ä¢ Wagyu Deluxe x1\n‚Ä¢ Truffle Supreme x2',
      timestamp: Date.now(),
      status: 'read',
      delay: 5000
    },
    {
      id: '9',
      type: 'text',
      sender: 'bot',
      content: '¬°Genial! He a√±adido esas hamburguesas a tu carrito üõí\n\n¬øQuieres a√±adir alg√∫n acompa√±amiento o bebida?',
      timestamp: Date.now(),
      status: 'delivered',
      delay: 1500
    },
    {
      id: '10',
      type: 'quick-reply',
      sender: 'bot',
      timestamp: Date.now(),
      status: 'delivered',
      delay: 1000,
      quickReplyButtons: [
        {
          id: 'add-fries',
          text: 'üçü A√±adir patatas',
          icon: 'üçü'
        },
        {
          id: 'add-drinks',
          text: 'ü•§ A√±adir bebidas',
          icon: 'ü•§'
        },
        {
          id: 'view-cart',
          text: 'üõí Ver carrito',
          icon: 'üõí'
        }
      ]
    },
    {
      id: '11',
      type: 'text',
      sender: 'customer',
      content: 'Ver carrito',
      timestamp: Date.now(),
      status: 'read',
      delay: 2500
    },
    {
      id: '12',
      type: 'cart',
      sender: 'bot',
      timestamp: Date.now(),
      status: 'delivered',
      delay: 1500,
      cart: {
        items: [
          {
            product: {
              id: 'wagyu-deluxe',
              name: 'Wagyu Deluxe',
              description: 'Carne Wagyu 200g, queso cheddar a√±ejo',
              price: 18.90,
              currency: '‚Ç¨',
              imageUrl: '/images/wagyu-burger.jpg',
              category: 'Gourmet',
              inStock: true
            },
            quantity: 1
          },
          {
            product: {
              id: 'truffle-supreme',
              name: 'Truffle Supreme',
              description: 'Angus 180g, queso brie, aceite de trufa',
              price: 16.50,
              currency: '‚Ç¨',
              imageUrl: '/images/truffle-burger.jpg',
              category: 'Gourmet',
              inStock: true
            },
            quantity: 2
          }
        ],
        total: 51.90,
        currency: '‚Ç¨',
        itemCount: 3
      }
    },
    {
      id: '13',
      type: 'text',
      sender: 'customer',
      content: 'Proceder al pago',
      timestamp: Date.now(),
      status: 'read',
      delay: 3000
    },
    {
      id: '14',
      type: 'flow',
      sender: 'bot',
      timestamp: Date.now(),
      status: 'delivered',
      delay: 2000,
      flow: {
        id: 'checkout-flow',
        title: 'Datos de Entrega',
        description: 'Por favor, completa los datos para el env√≠o',
        steps: [
          {
            id: 'name',
            type: 'text-input',
            label: 'Nombre',
            placeholder: 'Tu nombre completo',
            required: true
          },
          {
            id: 'phone',
            type: 'text-input',
            label: 'Tel√©fono',
            placeholder: '+34 600 000 000',
            required: true,
            validation: {
              pattern: '^\\+?[0-9]{9,15}$',
              message: 'Introduce un n√∫mero de tel√©fono v√°lido'
            }
          },
          {
            id: 'address',
            type: 'text-input',
            label: 'Direcci√≥n de entrega',
            placeholder: 'Calle, n√∫mero, piso...',
            required: true
          },
          {
            id: 'payment',
            type: 'single-select',
            label: 'M√©todo de pago',
            required: true,
            options: [
              { id: 'cash', label: 'üíµ Efectivo', value: 'cash' },
              { id: 'card', label: 'üí≥ Tarjeta al recibir', value: 'card' },
              { id: 'online', label: 'üí≥ Pago online', value: 'online' }
            ]
          },
          {
            id: 'notes',
            type: 'text-input',
            label: 'Instrucciones de entrega',
            placeholder: 'Ej: Timbre 2B, portal azul',
            required: false
          }
        ],
        submitButton: {
          text: 'Confirmar Pedido',
          color: '#25D366'
        }
      }
    },
    {
      id: '15',
      type: 'text',
      sender: 'customer',
      content: '‚úÖ Pedido confirmado',
      timestamp: Date.now(),
      status: 'read',
      delay: 6000
    },
    {
      id: '16',
      type: 'template',
      sender: 'bot',
      timestamp: Date.now(),
      status: 'delivered',
      delay: 2000,
      template: {
        id: 'order-confirmation',
        type: 'utility',
        header: {
          type: 'text',
          content: '‚úÖ PEDIDO CONFIRMADO #2024-0815'
        },
        body: '¬°Tu pedido est√° en camino! üöö\n\nüì¶ **Resumen del pedido:**\n‚Ä¢ 1x Wagyu Deluxe - 18.90‚Ç¨\n‚Ä¢ 2x Truffle Supreme - 33.00‚Ç¨\n\nüí∞ **Total:** 51.90‚Ç¨\nüìç **Direcci√≥n:** Calle Mayor 15, 2B\n‚è±Ô∏è **Tiempo estimado:** 25-35 minutos\n\nüéÅ ¬°Hemos a√±adido una bebida GRATIS por tu primera compra!',
        footer: 'Gracias por tu pedido',
        callToAction: {
          type: 'url',
          text: 'üìç Seguir pedido en tiempo real',
          value: 'https://track.burgerexpress.com/2024-0815'
        }
      }
    },
    {
      id: '17',
      type: 'text',
      sender: 'bot',
      content: 'üí° *¬øSab√≠as que?*\n\nCon el Cat√°logo de Productos de WhatsApp, tus clientes pueden navegar, seleccionar y comprar sin salir del chat. Esto aumenta las ventas en un 45% y reduce el abandono del carrito en un 60%.',
      timestamp: Date.now(),
      status: 'delivered',
      delay: 3000
    }
  ]
};